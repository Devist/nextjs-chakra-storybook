import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="â›· ê°œë°œê°€ì´ë“œ /ğŸ® ì½”ë“œ ìŠ¤íƒ€ì¼" />

# ì½”ë“œ ìŠ¤íƒ€ì¼

---

- [ì°¸ê³ ìë£Œ](https://javascript.plainenglish.io/10-tips-to-improve-readability-in-javascript-382eb287437)

# 1. JSX

ì»´í¬ë„ŒíŠ¸ì˜ **JSX**ë¶€ë¶„ì€ htmlì„ ì‘ì„±í•˜ê³  ì¼ë¶€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ ê²°í•©ë©ë‹ˆë‹¤. ì´ ë¶€ë¶„ì€ ê°œë°œ ë‹¨ê³„ ë˜ëŠ” ë¹Œë“œ ë‹¨ê³„ì—ì„œ íƒ€ì…(í˜•ì‹) ì²´í¬í•˜ëŠ” ë¶€ë¶„ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì—,
ì˜¤íƒ€ ë“±ì´ ìˆì„ ê²½ìš° runtimeì—ì„œë§Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ **ìµœì†Œí•œì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ë§Œ ì‚¬ìš©** í•©ë‹ˆë‹¤.

<br />

### a. ë³µì¡í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©í•˜ì§€ ì•Šê¸°

```javascript
/** Bad case */
/** ë³€ìˆ˜ê°€ ë¹„ì–´ ìˆê±°ë‚˜ ì†ì„±ì´ ë¹„ì–´ìˆì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— computedë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ */
<DataLabel
        :value="
            currentActivityOffer.owner.name +
            ' ' +
            currentActivityOffer.owner.surname
        "
        className="flex-1 justify-content-center"
        label="Owner"
/>


/** Good case*/
<DataLabel
        :value="currentActivityOfferOwnerNameSurname"
        className="flex-1 justify-content-center"
        label="Owner"
/>

```

### b. ë™ì¼í•œ ëª…ëª… ê·œì¹™ ë° ì†ì„± ìˆœì„œ ì‚¬ìš©

ì¹´ë©œì¼€ì´ìŠ¤, ë˜ëŠ” íŒŒìŠ¤ì¹¼ì¼€ì´ìŠ¤ë¥¼ ì´ìš©í•˜ë©°, ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ íƒœê·¸ ë‚´ ê°€ì¥ ë§ˆì§€ë§‰ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.
(ì•„ë˜ëŠ” vue ì½”ë“œë¡œ, ì¼ë¶€ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

```javascript
<MyComponent
    v-if="isVibile"
    v-model="myModel"
    :my-awesome-prop="myProp"
    @my-event="onMyEvent"
/>
```

â€‹

# 2. Script

### a. Function ë‚´ì— ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ì‘ì„±í•˜ì§€ ì•Šê¸°

componentì— ìˆëŠ” function ë˜ëŠ” MethodsëŠ” ì»´í¬ë„ŒíŠ¸ stateë‚˜ íŠ¹ì • í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë§Œ í¬í•¨í•˜ë„ë¡ í•´ì„œ, ì»´í¬ë„ŒíŠ¸ ë° ë¡œì§ ê¸°ëŠ¥ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```javascript

/** Bad case */
get doseCalculationMultiplier() {
    return (product: OrderDrugProductModel) => {
        if (
            !product.doseIntegrityType ||
            product.doseIntegrityType != EnumDoseIntegrityType.Calculated
        )
            return 0;
        if (!product.doseCalculationType) return 0;
.
.
.
     };
}

/** Good case*/
get doseCalculationMultiplier() {
    return (product: OrderDrugProductModel) =>
        OrderDrugHelper.doseCalculationMultiplier(product, this.model);
}
```

### b. Functions or Methods

- function ì´ë¦„ê³¼ parameter ì´ë¦„ì€ ëª…í™•í•˜ê²Œ ì‘ì„±í•©ë‹ˆë‹¤. (ì¤„ì„ë§ X)

```javascript
/** Bad case */
caclPersName(pers:Personnel):Personnel{
    ...
}

/** Good case */
calculatePersonnelName(personnel:Personnel):Personnel{
    ...
}
```

- í•­ìƒ ë¦¬í„´ íƒ€ì…ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```javascript
/** Bad case */
async getPatient(id:number){
    ...
}

/** Good case */
async getPatient(id:number):Promise<Patient>{
    ...
}
```

- functionì€ í•­ìƒ í•˜ë‚˜ì˜ ì¼ë§Œ í•˜ë„ë¡ í•©ë‹ˆë‹¤.

  - functionì— ë‘˜ ì´ìƒì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œê°€ ìˆì„ ê²½ìš°, ê° ì‘ì—…ì— ëŒ€í•´ ë‹¤ë¥¸ functionì„ ì‘ì„±í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.
    <br />
    <br />

- ë¹ ë¥´ê²Œ return

  - ì–½í˜€ìˆëŠ” if ë¸”ë¡ì„ ì‚¬ìš©í•˜ì§€ ë§ê³ , ì¼ì° returní•´ì„œ ì½”ë“œë¥¼ ê¹¨ë—í•˜ê²Œ í•©ë‹ˆë‹¤.

```javascript
/** Bad case */
coolFunction(param:string,param2:boolean):void{
    if(param)
    {
        if(param2)
        {
            ...
        }
        else{
            throw ...
        }
    }
    else{
        throw ...
    }
}

/** Good case */
coolFunction(param:string,param2:boolean):void{
    if(!param) throw ...

    if(!param2) throw ...

    ...
}
```

- ë³µì¡í•œ if statements ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸°

```typescript
/** Bad case */
if(param.indexOf('text') > -1 || param2 % 20 === 0)
{
    ...
}

/** Good case */
let paramContainsText:boolean = param.indexOf('text') > -1;
let canParam2DividedBy20:boolean = param2 % 20 === 0;
if(paramContainsText || canParam2DividedBy20)
{
    ...
}
```

- **ì „ë‹¬ì¸ì(arguments)ê°€ ë§ì€ ê²½ìš° object ì‚¬ìš©í•˜ê¸°**

  - ì¼ë¶€ functionì—ëŠ” ë§ì€ ì „ë‹¬ì¸ìê°€ í•„ìš”í•˜ë©° ì´ëŸ¬í•œ ì „ë‹¬ì¸ìˆ˜ ì¤‘ ì¼ë¶€ëŠ” ì„ íƒì¼ ê²½ìš°, objectë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```typescript
/** Bad case */
static async getDocumentProcesses(
    visitId?: number,
    take?: number,
    skip?: number,
    code?: string,
    id?: number,
    documentCategory?: string,
    search?: string,
    keys?: number[],
    include?: string[],
    orderBy?: string,
    documentType?: EnumDocumentType,
    patientId?: number,
    getAll?: boolean,
    clientId?: number
)
    ..
----------------------------------------------------------------
getDocumentProcessesFull(
    undefined,
    undefined,
    undefined,
    this.documentCode,
    undefined,
    undefined,
    this.visit.patientId,
    undefined,
    undefined,
    true
);

/** Good case */
static async getDocumentProcesses(
 options:{
    visitId?: number,
    take?: number,
    skip?: number,
    code?: string,
    id?: number,
    documentCategory?: string,
    search?: string,
    keys?: number[],
    include?: string[],
    orderBy?: string,
    documentType?: EnumDocumentType,
    patientId?: number,
    getAll?: boolean,
    clientId?: number
  }
)
    ..
-----------------------------------------------------------------
getDocumentProcessesFull(
   {
     code:this.documentCode,
     patientOd:this.patientId
   }
);
```

- ê¸´ ì£¼ì„ë³´ë‹¤ëŠ” ê¸´ ë³€ìˆ˜ë¡œ ë¹¼ëŠ”ê²ƒì´ ë‚«ìŠµë‹ˆë‹¤.

```javascript
/* Bad case */

// verify that user has added a credit card
function verify(user) {}

/* Good Case */
function verifyThatUserHasAddedCreditCard(user) {}
```

- ì´í•´í•˜ê¸° ì‰½ê³  ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ì‘ì„±í•©ë‹ˆë‹¤.

```javascript
/* original */
if (
  country !== 'finland' &&
  country !== 'germany' &&
  country !== 'vietnam' &&
  country !== 'russia' &&
  type !== 'ğŸ’£'
) {
  return Promise.reject('Not available')
}

/* refactor */
const isInAvailableCountries =
  country === 'finland' || country === 'germany' || country === 'vietnam' || country === 'russia'
const hasBoom = type === 'ğŸ’£'
if (!isInAvailableCountries || hasBoom) {
  return Promise.reject('Not available')
}

/* better */
const availableCountries = ['finland', 'germany', 'vietnam', 'russia']
const isInAvailableCountries = availableCountries.includes(country)
const hasBoom = type === 'ğŸ’£'
if (!isInAvailableCountries || hasBoom) {
  return Promise.reject('Not available')
}
```

- defaultsë¥¼ ì„¤ì •í•  ë•Œì—ëŠ” Object.assign ì„ ì´ìš©í•©ë‹ˆë‹¤.

```javascript
function getCoffee(customOptions) {
  const defaultOptions = {
    type: 'cappuccino',
    size: 'small',
    country: 'finland',
    hasIce: false
  }
  const options = Object.assign(defaultOptions, customOptions)
}
function getCoffee(options = {}) {
  const { type = 'cappuccino', size = 'small', country = 'finland', hasIce = false } = options
}
function getCoffee({
  type = 'cappuccino',
  size = 'small',
  country = 'finland',
  hasIce = false
} = {}) {}
```

- Object literalsë¡œ switchë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
/* bad case */
let drink
switch (type) {
  case 'cappuccino':
    drink = 'Cappuccino'
    break
  case 'flatWhite':
    drink = 'Flat White'
    break
  case 'espresso':
    drink = 'Espresso'
    break
  default:
    drink = 'Unknown drink'
}

/* good case */
const menu = {
  cappuccino: 'Cappuccino',
  flatWhite: 'Flat White',
  espresso: 'Espresso',
  default: 'Unknown drink'
}
const drink = menu[type] || menu['default']
```

useEffect(() => { ... }) // Run effect on every render
useEffect(() => { ... }, []) // This effect has no dependencies so run once and never again.
useEffect(() => { ... }, [d1, d2]) // This effect should be run if d1 or d2 changees
